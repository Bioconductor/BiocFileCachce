% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/BiocFileCache-class.R
\docType{methods}
\name{BiocFileCache-class}
\alias{BiocFileCache-class}
\alias{BiocFileCache}
\alias{bfcCache,BiocFileCache-method}
\alias{bfcCache}
\alias{length,BiocFileCache-method}
\alias{[[,BiocFileCache,numeric,missing-method}
\alias{[[<-,BiocFileCache,numeric,missing,character-method}
\alias{bfcnew,BiocFileCache-method}
\alias{bfcnew}
\alias{bfcadd,BiocFileCache-method}
\alias{bfcadd}
\alias{bfclist,BiocFileCache-method}
\alias{bfclist}
\alias{bfcpath,BiocFileCache-method}
\alias{bfcpath}
\alias{bfcupdate,BiocFileCache-method}
\alias{bfcupdate}
\alias{bfcquery,BiocFileCache-method}
\alias{bfcquery}
\alias{bfcneedsupdate,BiocFileCache-method}
\alias{bfcneedsupdate}
\alias{bfcremove,BiocFileCache-method}
\alias{bfcremove}
\alias{cleanCache,BiocFileCache-method}
\alias{cleanCache}
\alias{removeCache,BiocFileCache-method}
\alias{removeCache}
\alias{show,BiocFileCache-method}
\title{BiocFileCache class}
\usage{
BiocFileCache(cache = path.expand("~/.BiocFileCache"))

\S4method{bfcCache}{BiocFileCache}(x)

\S4method{length}{BiocFileCache}(x)

\S4method{[[}{BiocFileCache,numeric,missing}(x, i, j)

\S4method{[[}{BiocFileCache,numeric,missing,character}(x, i, j, ...) <- value

\S4method{bfcnew}{BiocFileCache}(x, rname)

\S4method{bfcadd}{BiocFileCache}(x, rname, fpath = NA_character_,
  rtype = c("local", "web"), action = c("copy", "move", "asis"),
  proxy = "", ...)

\S4method{bfclist}{BiocFileCache}(x, rids)

\S4method{bfcpath}{BiocFileCache}(x, rid)

\S4method{bfcupdate}{BiocFileCache}(x, rid, rname = NULL, rpath = NULL,
  weblink = NULL, proxy = "")

\S4method{bfcquery}{BiocFileCache}(x, queryValue)

\S4method{bfcneedsupdate}{BiocFileCache}(x, rid)

\S4method{bfcremove}{BiocFileCache}(x, rids)

\S4method{cleanCache}{BiocFileCache}(x, days = 120, ask = TRUE)

\S4method{removeCache}{BiocFileCache}(x, ask = TRUE)

\S4method{show}{BiocFileCache}(object)
}
\arguments{
\item{cache}{character(1) On-disk location (directory path) of
cache.}

\item{x}{\code{BiocFileCache} instance.}

\item{i}{Rid numbers}

\item{j}{Not applicable}

\item{...}{For \code{action="copy"}, additional arguments passed to
\code{file.copy}.}

\item{value}{character(1) Replace file path}

\item{rname}{character(1) Name of object in file cache}

\item{fpath}{character(1) Path to current file location or remote web resource}

\item{rtype}{character(1) local or web indicating if the resource is a local
file or a web resource}

\item{action}{How to handle the file: create a \code{copy} of
\code{fpath} in the cache directory; \code{move} the file to
the cache directory; or \code{asis} leave the file in current
location but save the path in the cache.}

\item{proxy}{proxy server}

\item{rids}{character() List of rids.}

\item{rid}{numeric(1) Unique resource id}

\item{rpath}{character(1) replacement value for rpath}

\item{weblink}{character(1) path to replacement web resource}

\item{queryValue}{character(1) pattern to match in resource}

\item{days}{Number of days between accessDate and currentDate; if exceeded
entry will be deleted}

\item{ask}{check if really want to remove cache and files}

\item{object}{A \code{BiocFileCache} instance.}
}
\value{
A \code{BiocFileCache} instance.

character(1) location of the directory containing the cache.

integer(1) Number of objects in the file cache.

rpath for the given resource in the cache

Updated BiocFileCache object

named character(1) The path to save your object/file.
The name of the character is the unique rid for the resource

numeric(1) The unique id of the resource in the cache.

A list of current resources in the database

The file path location to load

A list of current resources in the database whose rname, rpath, or
weblink contained queryValue. If not found, returns NA.

logical if resource needs to be updated

TRUE if successfully removed.

TRUE if successfully removed.
}
\description{
This class represents the location of files stored on disk. Use the
return value to add and retrieve files that persist across
sessions.
}
\section{Methods (by generic)}{
\itemize{
\item \code{bfcCache}: Get the location of the on-disk cache.

\item \code{length}: Get the number of object in the file
cache.

\item \code{[[}: Get a file path for select resources from the cache.

\item \code{[[<-}: Set the file path of a
select resources from the cache.

\item \code{bfcnew}: Add a resource to the database

\item \code{bfcadd}: Add an existing resource to the database

\item \code{bfclist}: list resources in database

\item \code{bfcpath}: load resource

\item \code{bfcupdate}: Update a resource in the cache

\item \code{bfcquery}: query resource

\item \code{bfcneedsupdate}: check if a resource needs to be updated

\item \code{bfcremove}: Remove a resource to the database.

\item \code{cleanCache}: Remove old/unused files in BiocFileCache

\item \code{removeCache}: Completely remove the BiocFileCache

\item \code{show}: Display a \code{BiocFileCache} instance.
}}

\examples{
bfc <- BiocFileCache()            # global cache
bfc
bfcCache(bfc)
length(bfc)
bfc0 <- BiocFileCache(tempfile())         # temporary catch for examples
path <- bfcnew(bfc0, "NewResource")
path
fl1 <- tempfile(); file.create(fl1)
bfcadd(bfc0, "Test1", fl1)                 # copy
fl2 <- tempfile(); file.create(fl2)
bfcadd(bfc0, "Test2", fl2, action="move")         # move
fl3 <- tempfile(); file.create(fl3)
rid3 <- bfcadd(bfc0, "Test3", fl3, action="asis")         # reference

bfc0
file.exists(fl1)                                # TRUE
file.exists(fl2)                                # FALSE
file.exists(fl3)                                # TRUE

# add a remote resource
url <- "http://httpbin.org/get"
bfcadd(bfc0, "TestWeb", rtype="web", fpath=url)
bfclist(bfc0)
bfcpath(bfc0, rid3)
bfcupdate(bfc0, rid3, rpath=fl2, rname="NewRname")
bfc0[[rid3]] = fl1
bfcupdate(bfc0, 5, weblink="http://google.com")
bfcquery(bfc0, "test")
bfcneedsupdate(bfc0, 5)
bfcremove(bfc0, rid3)
bfclist(bfc0)
\dontrun{cleanCache(bfc, ask=FALSE)}
\dontrun{removeCache(bfc, ask=FALSE)}
}
